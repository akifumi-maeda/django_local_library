{% extends "base_generic.html" %}

{% block content %}
    <div class="mt-3 d-flex justify-content-between">
        <h1 class="pb-2 border-bottom">Title: {{ author }}</h1>
        {% if user.is_staff %}
            <div>
                <a class="text-info" href="{% url 'author-update' author.pk %}"><i class="fas fa-edit fa-3x"></i></a>
                <a class="text-danger" href="{% url 'author-delete' author.pk %}"><i class="fas fa-trash fa-3x"></i></a>
            </div>
        {% endif %}
    </div>

    <p>{{ author.date_of_birth}} - {% if author.date_of_death %}{{ author.date_of_death }}{% endif %}</p>

    <div style="margin-left: 20px;margin-top: 20px;">
        <h4>Books</h4>

        {% for book in author.book_set.all %}
            <dl>
                <dt><a href="{% url 'book-detail' book.pk %}">{{ book }}</a>({{ book.bookinstance_set.all.count }})</dt>
                <dd>{{ book.summary }}</dd>
            </dl>
        {% endfor %}
    </div>
{% endblock %}